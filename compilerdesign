
#include<stdio.h>
#include<stdlib.h>
#include<string.h>

int x = 0, i = 0, j = 0, c = 0;

dd
char a[16], ac[20], stk[15], act[10];

void check()
{
	strcpy(ac,"reduce E -> ");
	
	for(x = 0; x < c; x++)
	{
		if(stk[x] == '4')
		{
			printf("%s4", ac);
			  
			stk[x] = 'E';
			stk[x + 1] = '\0';
			
			printf("\n$%s\t%s$\t", stk, a);
		}
	}
		
	for(x = 0; x < c - 2; x++)
	{
		if(stk[x] == '2' && stk[x + 1] == 'E' &&
								stk[x + 2] == '2')
		{
			printf("%s2E2", ac);
			stk[x] = 'E';
			stk[x + 1] = '\0';
			stk[x + 2] = '\0';
			printf("\n$%s\t%s$\t", stk, a);
			i = i - 2;
		}
		
	}
		
	for(x=0; x<c-2; x++)
	{
		if(stk[x] == '3' && stk[x + 1] == 'E' &&
								stk[x + 2] == '3')
		{
			printf("%s3E3", ac);
			stk[x]='E';
			stk[x + 1]='\0';
			stk[x + 1]='\0';
			printf("\n$%s\t%s$\t", stk, a);
			i = i - 2;

			
		}
	}
	return ;
}

int main()
{
	printf("GRAMMAR is -\nE->2E2 \nE->3E3 \nE->4\n");
	
	strcpy(a,"32423");
	c=strlen(a);
	strcpy(act,"SHIFT");
	
	printf("\nstack \t input \t action");
	printf("\n$\t%s$\t", a);
	
	for(i = 0; j < c; i++, j++)
	{
		printf("%s", act);
		
		stk[i] = a[j];	
		stk[i + 1] = '\0';
		
		a[j]=' ';
		
		printf("\n$%s\t%s$\t", stk, a);
		
		check();
	}
	
d
	check();

	if(stk[0] == 'E' && stk[1] == '\0')
		printf("Accept\n");
	else 
		printf("Reject\n");


}


 